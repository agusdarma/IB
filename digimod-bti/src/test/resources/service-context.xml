<?xml version="1.0" encoding="UTF-8"?>
<beans 
	xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:p="http://www.springframework.org/schema/p" 
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:task="http://www.springframework.org/schema/task"
	xsi:schemaLocation="
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.0.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.0.xsd
		http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">

	<!-- ========================= BUSINESS OBJECT DEFINITIONS ========================= -->
	<!-- Scan all class with @Repository, @Service, and @Component -->
	<!-- (beware that this does not enable mapper scanning!) -->
	<!-- <context:component-scan base-package="com.emobile.jets.mmbs.lib.service" /> -->
	<!-- <context:component-scan base-package="com.emobile.jets.mmbs.lib.util" /> -->
	<context:component-scan base-package="com.emobile.jets.mmbs.lib.service" >
	    <context:exclude-filter type="assignable" expression="com.emobile.jets.mmbs.lib.service.HouseKeepingService"/>
	</context:component-scan>
	
	<!-- enable autowire -->
	<context:annotation-config />
	
	<bean id="versionData" class="com.emobile.jets.mmbs.lib.data.VersionData" init-method="printInfo" />
	
	<bean id="messageSource"
		class="org.springframework.context.support.ResourceBundleMessageSource">
		<property name="basename" value="jets-messages" />
	</bean>
	
	<!-- <bean id="databaseAsyncUtil" class="com.emobile.jets.mmbs.lib.util.DatabaseAsyncUtil"
			init-method="start" destroy-method="stop">
		<property name="agentCount" value="2" />
	</bean> -->
			
	<!-- Sequence Generator -->
	<bean id="sysSequenceGenerator"
		class="com.emobile.jets.mmbs.lib.service.SequenceGeneratorService"
			init-method="initService">
		<property name="appName" value="SYS_SEQ" />
		<property name="range" value="1000" />
		<property name="sequenceStrategy">
			<bean class="com.emobile.jets.mmbs.lib.sequence.DatePrefixSequenceStrategy">
				<property name="limit" value="99999999" />
			</bean>
		</property>
	</bean>

	<bean id="msgSequenceGenerator"
		class="com.emobile.jets.mmbs.lib.service.SequenceGeneratorService"
			init-method="initService">
		<property name="appName" value="MSG_SEQ" />
		<property name="range" value="1000" />
		<property name="sequenceStrategy">
			<bean class="com.emobile.jets.mmbs.lib.sequence.DatePrefixSequenceStrategy">
				<property name="limit" value="99999999" />
			</bean>
		</property>
	</bean>

	<bean id="tokenSequenceGenerator"
		class="com.emobile.jets.mmbs.lib.service.SequenceGeneratorService"
			init-method="initService">
		<property name="appName" value="TOKEN_SEQ" />
		<property name="range" value="100" />
		<property name="sequenceStrategy">
			<bean class="com.emobile.jets.mmbs.lib.sequence.AlphabetSequenceStrategy" />
		</property>
	</bean>
	
	<!-- For send push SMS -->
	<bean id="pushSysSequenceGenerator"
		class="com.emobile.jets.mmbs.lib.service.SequenceGeneratorService"
			init-method="initService">
		<property name="appName" value="PSYS_SEQ" />
		<property name="range" value="1000" />
		<property name="sequenceStrategy">
			<bean class="com.emobile.jets.mmbs.lib.sequence.DatePrefixSequenceStrategy">
				<property name="limit" value="9999999" />
				<property name="prefix" value="9" />
			</bean>
		</property>
	</bean>

	<bean id="pushMsgSequenceGenerator"
		class="com.emobile.jets.mmbs.lib.service.SequenceGeneratorService"
			init-method="initService">
		<property name="appName" value="PMSG_SEQ" />
		<property name="range" value="1000" />
		<property name="sequenceStrategy">
			<bean class="com.emobile.jets.mmbs.lib.sequence.DatePrefixSequenceStrategy">
				<property name="limit" value="9999999" />
				<property name="prefix" value="9" />
			</bean>
		</property>
	</bean>

	<!-- Email Utility -->
	<bean id="emailUtil" class="com.emobile.jets.mmbs.lib.util.EmailUtil" 
			destroy-method="stop">
		<property name="mailServerHost" value="smtp-mnet.biz.net.id" />
		<property name="mailServerPort" value="25" />
		<property name="mailServerUser" value="" />
		<property name="mailServerPassword" value="" />
		<property name="mailFrom" value="willy@emobile.com.sg" />
		<property name="useSSL" value="false" />
		<property name="needSend" value="false" />
	</bean>
	
	<!-- Loading Security Provider -->
	<bean id="loadBcProvider"
		class="org.springframework.beans.factory.config.MethodInvokingFactoryBean">
		<property name="staticMethod" value="java.security.Security.addProvider" />
		<property name="arguments">
			<list>
				<bean class="org.bouncycastle.jce.provider.BouncyCastleProvider" />
			</list>
		</property>
	</bean>
	
	<bean id="cipherService" class="com.emobile.jets.mmbs.lib.service.CipherService"
			init-method="init">
		<property name="initKey" value="beped3lam456j3t5" />
	</bean>
	
	<bean id="chargeCodeMatrix" class="com.emobile.jets.mmbs.lib.util.ChargeCodeMatrix"
			init-method="printInfo">
		<property name="broadcastCode" value="1" />
		<property name="failCode" value="1" />
		<property name="verificationCode" value="1" />
		<property name="notificationCode" value="" />
		<property name="defaultSuccessCode" value="0" />
		<!-- using specific code rather than defaultSuccessCode -->
		<property name="successCodes">
			<map>
				<entry key="${changePin.code}" value="0" />
			</map>
		</property>
	</bean>
	
	
</beans>
